!function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=83)}({0:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.d(t,"a",function(){return r});var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=t,this.msg=n}return o(e,null,[{key:"ERROR",get:function(){return"error"}},{key:"SUCCESS",get:function(){return"success"}},{key:"WARNING",get:function(){return"warning"}},{key:"INFO",get:function(){return"info"}}]),o(e,[{key:"show",value:function(){new Noty({type:this.type,theme:"relax",layout:"topRight",text:this.msg,timeout:"2000",progressBar:!0,closeWith:["click"],animation:{open:"animated bounceInRight",close:"animated bounceOutRight"}}).show()}}]),e}()},83:function(e,t,n){e.exports=n(84)},84:function(e,t,n){"use strict";n.r(t);var a=n(0);$(document).ready(function(){var e=document.querySelector('.pageViewQuestion input[name="userPublicId"]').value,t=document.querySelector('.pageViewQuestion input[name="questionPublicId"]').value,n=document.querySelector('tvy-content-action-view[data-for="currentQuestion"]'),o=!1;s(n,t,"question"),document.querySelectorAll('tvy-content-action-view[data-for="answer"]').forEach(function(e){var t=e.getAttribute("data-public-id");s(e,t,"answer")});var r=document.querySelector('tvy-content-management-preview[data-for="currentAnswer"]');function s(n,a,r){var s=window.location.origin+"/".concat(r,"/get-info/")+a;e&&(s+="?viewer=".concat(e)),$.ajax({url:s,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"GET",success:function(a){if(!0===a.success){var s=a.data,i=s.owner_avatar_url,u=s.author_name,l=s.author_id,f=s.readable_time,d=s.description,v=s.relativePathStoreImages,w=s.comments,m=s.vote,y=s.vote_by_viewer;if("question"===r){var p=a.data,b=p.is_favorite_by_viewer,h=p.summary_info,g=p.author_public_id,_=h.num_views,C=h.last_active_date;c(b),A=_,S=C,(x=$(".questionSummaryInfo")).find(".numViews").text(A),x.find(".lastActive").text(S),g===e&&($('tvy-content-action-view[data-for="answer"] .setBestAnswer').on("mouseover",function(){var e=$(this).hasClass("selected")?"Click to unset as best answer":$(this).find(".labelBestAnswer").text();$(this).find(".labelBestAnswer").text(e)}),$('tvy-content-action-view[data-for="answer"] .setBestAnswer').on("mouseleave",function(){var e=$(this).hasClass("selected")?"✔️ Best Answer":$(this).find(".labelBestAnswer").text();$(this).find(".labelBestAnswer").text(e)}),$('tvy-content-action-view[data-for="answer"] .setBestAnswer').on("click",function(){var e=this,n=$(this).hasClass("selected")?null:$(this).parent().data("public-id"),a=window.location.origin+"/activity/choose-best-answer";$.ajax({url:a,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",data:{question_public_id:t,answer_public_id:n},success:function(t){!0===t.success&&(null==n?($(e).removeClass("selected"),$(e).siblings(".TVYContentActionView").removeClass("selected"),$(e).find(".labelBestAnswer").text("Click to set as best answer")):($('tvy-content-action-view[data-for="answer"] .setBestAnswer').removeClass("selected"),$('tvy-content-action-view[data-for="answer"] .labelBestAnswer').text("Click to set as best answer"),$('tvy-content-action-view[data-for="answer"] .TVYContentActionView').removeClass("selected"),$(e).addClass("selected"),$(e).siblings(".TVYContentActionView").addClass("selected"),$(e).find(".labelBestAnswer").text("✔️ Best Answer")))},error:function(e){console.log("Error set best answer (".concat(n,") of question (").concat(t,")"),e)}})}),o=!0)}else"answer"===r&&(n.isBestAnswer=a.data.is_best_answer,n.canSetBestAnswer=o);n.vote=m,n.voteByViewer=y,n.contentType=r,n.ownerAvatarUrl=i,n.authorName=u,n.authorId=l,n.readableTime=f,n.description=JSON.parse(d),n.relativePathStoreImages=v,n.comments=w,n.getViewContent()}var A,S,x},error:function(e){console.log("Error getting content of ".concat(r," [").concat(t,"]"),e)}})}r.contentType="answer",r.getManagementPreview();var i=window.location.search.match(/top=(\w+)&?/);function c(e){var t=$(".questionFavorite");e?(t.addClass("selected fas"),t.removeClass("far")):(t.removeClass("selected fas"),t.addClass("far"));var n=t.hasClass("selected")?"Unmark as favorite":"Mark as favorite";t.attr("title",n)}i&&$("html, body").animate({scrollTop:$("#".concat(i[1])).offset().top-30},500),$("#formAnswerQuestion").submit(function(e){var t=!0,n=$("tvy-content-editor").attr("data-has-value"),o=$(".answerContentManagement .TVYContentOrder").children();("true"!==n||o.length<1)&&(new a.a(a.a.WARNING,"Please add description for your answer").show(),t=!1),t||e.preventDefault()}),$(".questionFavorite").click(function(){var e=$(this).hasClass("selected");!function(e,t){var n=window.location.origin+"/activity/manage-favorite-question";$.ajax({url:n,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},type:"POST",data:{question_public_id:e,is_favorite:t},success:function(e){!0===e.success?c(t):console.log("Failed to manage favorite question",e)},error:function(t){console.log("Error getting content of ".concat(type," [").concat(e,"]"),t)}})}(t,!e)})})}});